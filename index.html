<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ูุณุงุนุฏ ุฐูู ููุฌุงู ุงูุงุณุชุซูุงุฑ - ูุธุงู ุฐูุงุก ุงุตุทูุงุนู ูููุณุงุนุฏุฉ ูู ุชุฑุงุฎูุต ุงูุฃูุดุทุฉ ูุงูููุงุทู ุงูุตูุงุนูุฉ">
    
    <!-- PWA Configuration -->
    <meta name="theme-color" content="#2c3e50">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>๐ค</text></svg>">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="css/animations.css">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <title>ูุณุงุนุฏ ุงููุฌุงู ุงูุฐูู - ูุธุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ููุชุฑุงุฎูุต ุงูุงุณุชุซูุงุฑูุฉ</title>
    
    <!-- Global Configuration -->
    <script type="application/json" id="app-config">
        {
            "version": "1.0.0",
            "environment": "production",
            "databases": {
                "activities": "data/vectors/activity_vectors.js",
                "industrial": "data/vectors/industrial_vectors.js",
                "decision104": "data/vectors/decision104_vectors.js"
            },
            "cacheSize": 1000,
            "enableVoice": true,
            "enableLearning": true,
            "researcherId": "auto-generate"
        }
    </script>
    <!-- ุฃููููุงุช SVG ูุถููุฉ -->
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="icon-192" viewBox="0 0 192 192">
    <rect width="192" height="192" fill="#2c3e50" rx="24"/>
    <text x="96" y="120" font-family="Arial" font-size="100" 
          fill="white" text-anchor="middle" dominant-baseline="middle">๐ค</text>
  </symbol>
  <symbol id="icon-512" viewBox="0 0 512 512">
    <rect width="512" height="512" fill="#2c3e50" rx="64"/>
    <text x="256" y="320" font-family="Arial" font-size="250" 
          fill="white" text-anchor="middle" dominant-baseline="middle">๐ค</text>
  </symbol>
</svg>

<!-- ุชุญููู SVG ุฅูู PNG ุจุงุณุชุฎุฏุงู JavaScript -->
<script>
// ุฅูุดุงุก ุฃููููุงุช PNG ูู SVG
function createFavicon() {
    const sizes = [192, 512];
    
    sizes.forEach(size => {
        const canvas = document.createElement('canvas');
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext('2d');
        
        // ุฎูููุฉ
        ctx.fillStyle = '#2c3e50';
        ctx.fillRect(0, 0, size, size);
        
        // ุฑุณู ุฑูุจูุช ุฅูููุฌู
        ctx.fillStyle = 'white';
        ctx.font = `${size * 0.5}px Arial`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText('๐ค', size/2, size/2);
        
        // ุชุญููู ุฅูู ุฑุงุจุท ุจูุงูุงุช
        const dataUrl = canvas.toDataURL('image/png');
        
        // ุฅูุดุงุก ุฑุงุจุท ููุฃููููุฉ
        const link = document.createElement('link');
        link.rel = 'icon';
        link.sizes = `${size}x${size}`;
        link.href = dataUrl;
        document.head.appendChild(link);
    });
}

// ุชุดุบูู ุนูุฏ ุชุญููู ุงูุตูุญุฉ
document.addEventListener('DOMContentLoaded', createFavicon);
</script>
</head>
<body>
    <!-- Main App Container -->
    <div class="app-container">
        
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">๐ค</div>
                    <h1 class="app-title">ูุณุงุนุฏ ุงููุฌุงู ุงูุฐูู</h1>
                    <span class="app-subtitle">ูุธุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ููุชุฑุงุฎูุต ุงูุงุณุชุซูุงุฑูุฉ</span>
                </div>
                
                <div class="header-controls">
                    <!-- Researcher Info -->
                    <div class="researcher-info">
                        <div class="researcher-avatar">
                            <span>๐จโ๐ผ</span>
                        </div>
                        <div class="researcher-details">
                            <span class="researcher-name" id="researcher-name">ุจุงุญุซ ุฌุฏูุฏ</span>
                            <span class="researcher-id" id="researcher-id">ID: ุชูููุฏ ุชููุงุฆู...</span>
                        </div>
                    </div>
                    
                    <!-- Settings Button -->
                    <button class="settings-btn" id="settings-btn" aria-label="ุงูุฅุนุฏุงุฏุงุช">
                        โ๏ธ
                    </button>
                    
                    <!-- Performance Indicator -->
                    <div class="performance-indicator" id="performance-indicator">
                        <span class="status-dot"></span>
                        <span class="status-text">ุฌุงูุฒ</span>
                    </div>
                </div>
            </div>
            
            <!-- Navigation Tabs -->
            <nav class="main-nav">
                <div class="nav-tabs">
                    <button class="nav-tab active" data-tab="chat">
                        <span class="tab-icon">๐ฌ</span>
                        <span class="tab-text">ูุญุงุฏุซุฉ ุฐููุฉ</span>
                    </button>
                    <button class="nav-tab" data-tab="knowledge">
                        <span class="tab-icon">๐</span>
                        <span class="tab-text">ูุงุนุฏุฉ ุงููุนุฑูุฉ</span>
                    </button>
                    <button class="nav-tab" data-tab="map">
                        <span class="tab-icon">๐บ๏ธ</span>
                        <span class="tab-text">ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ</span>
                    </button>
                    <button class="nav-tab" data-tab="reports">
                        <span class="tab-icon">๐</span>
                        <span class="tab-text">ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช</span>
                    </button>
                    <button class="nav-tab" data-tab="analysis">
                        <span class="tab-icon">๐</span>
                        <span class="tab-text">ุชุญููู ูุชูุฏู</span>
                    </button>
                </div>
            </nav>
        </header>

        <!-- Main Content Area -->
        <main class="main-content">
            
            <!-- Chat Tab (Active by Default) -->
            <div class="tab-content active" id="chat-tab">
                <div class="chat-container">
                    <!-- Chat Header -->
                    <div class="chat-header">
                        <h2>๐ฌ ุงููุญุงุฏุซุฉ ุงูุฐููุฉ</h2>
                        <div class="chat-controls">
                            <button class="voice-btn" id="voice-toggle">
                                <span class="voice-icon">๐ค</span>
                                <span class="voice-text">ุงูุชุญุฏุซ</span>
                            </button>
                            <button class="clear-btn" id="clear-chat">
                                <span class="clear-icon">๐๏ธ</span>
                                <span class="clear-text">ูุณุญ ุงููุญุงุฏุซุฉ</span>
                            </button>
                            <button class="export-btn" id="export-chat">
                                <span class="export-icon">๐พ</span>
                                <span class="export-text">ุญูุธ ุงููุญุงุฏุซุฉ</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Chat Messages Area -->
                    <div class="chat-messages" id="chat-messages">
                        <!-- Welcome Message -->
                        <div class="message assistant">
                            <div class="message-avatar">๐ค</div>
                            <div class="message-content">
                                <div class="message-text">
                                    <strong>ูุฑุญุจุงู! ุฃูุง ูุณุงุนุฏ ุงููุฌุงู ุงูุฐูู ๐ค</strong><br><br>
                                    ุฃูุง ูุธุงู ุฐูุงุก ุงุตุทูุงุนู ูุชุฎุตุต ูู ูุณุงุนุฏุชู ูู:<br>
                                    โ ุชุฑุงุฎูุต ุงูุฃูุดุทุฉ ุงูุตูุงุนูุฉ ูุงูุชุฌุงุฑูุฉ<br>
                                    โ ุงูููุงุทู ุงูุตูุงุนูุฉ ูุงููุคููุงุช<br>
                                    โ ูุฑุงุฑุงุช ูุงุณุชูุณุงุฑุงุช ุงููุฑุงุฑ 104<br>
                                    โ ุงูุฑุจุท ุจูู ุงูุฃูุดุทุฉ ูุงูููุงุทู ุงูููุงุณุจุฉ<br>
                                    โ ุงูุฅุฌุงุจุฉ ุนูู ุงูุงุณุชูุณุงุฑุงุช ุงููููุฉ ุงููุนูุฏุฉ<br><br>
                                    <em>ููููู ุงูุชุญุฏุซ ูุนู ุจุงููุบุฉ ุงูุนุฑุจูุฉ ุงููุตุญู ุฃู ุงูุนุงููุฉ ุงููุตุฑูุฉ ๐ฌ</em>
                                </div>
                                <div class="message-time">ุงูุขู</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Thinking Indicator (Hidden by Default) -->
                    <div class="thinking-indicator" id="thinking-indicator">
                        <div class="thinking-dots">
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                        <div class="thinking-text">ุฃููุฑ ูู ุฅุฌุงุจุชู...</div>
                        <div class="thinking-process" id="thinking-process">
                            <div class="process-step">๐ ุชุญููู ุงูุณุคุงู...</div>
                            <div class="process-step">๐ ุงูุจุญุซ ูู ุงูููุงุนุฏ...</div>
                            <div class="process-step">๐ ุงูุฑุจุท ุจูู ุงููุนูููุงุช...</div>
                            <div class="process-step">๐ ุชูููุฏ ุงูุฅุฌุงุจุฉ...</div>
                        </div>
                    </div>
                    
                    <!-- Chat Input Area -->
                    <div class="chat-input-area">
                        <div class="input-container">
                            <textarea 
                                class="chat-input" 
                                id="chat-input" 
                                placeholder="ุงูุชุจ ุณุคุงูู ููุง... ุฃู ุงููุฑ ุนูู ุฒุฑ ุงููููุฑูููู ููุชุญุฏุซ ุจุงูุตูุช ๐ค (ููููู ุงุณุชุฎุฏุงู ุงูุนุฑุจูุฉ ุงูุนุงููุฉ)"
                                rows="3"
                            ></textarea>
                            <div class="input-controls">
                                <button class="send-btn" id="send-btn">
                                    <span class="send-icon">โ๏ธ</span>
                                    <span class="send-text">ุฅุฑุณุงู</span>
                                </button>
                                <button class="voice-input-btn" id="voice-input-btn">
                                    <span class="mic-icon">๐ค</span>
                                </button>
                                <button class="attach-btn" id="attach-btn">
                                    <span class="attach-icon">๐</span>
                                </button>
                            </div>
                        </div>
                        <div class="input-hints">
                            <span class="hint">๐ก ุฌุฑุจ ุฃู ุชุณุฃู: "ูุง ูู ูุชุทูุจุงุช ุชุฑุฎูุต ูุตูุน ุฃุฏููุฉ ูู ุงููุงูุฑุฉุ"</span>
                            <span class="hint">๐ก ุฃู: "ุฃูู ูููููู ุฅูุดุงุก ูุดุฑูุน ุฅููุชุฑูููุงุช ูู ุงูุฅุณููุฏุฑูุฉุ"</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Knowledge Base Tab -->
            <div class="tab-content" id="knowledge-tab">
                <div class="knowledge-container">
                    <h2>๐ ูุงุนุฏุฉ ุงููุนุฑูุฉ ุงููุชูุงููุฉ</h2>
                    <div class="knowledge-grid">
                        <div class="knowledge-card">
                            <div class="card-icon">๐ญ</div>
                            <h3>ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฃูุดุทุฉ</h3>
                            <p>ุชุตูููุงุช ุงูุฃูุดุทุฉ ุงูุตูุงุนูุฉ ูุงูุชุฌุงุฑูุฉ ููุชุทูุจุงุช ุชุฑุฎูุตูุง</p>
                            <div class="card-stats">
                                <span>๐ 150+ ูุดุงุท</span>
                                <span>๐ ูุญุฏุซ ุชููุงุฆูุงู</span>
                            </div>
                            <button class="card-btn" data-source="activities">ุชุตูุญ ุงูุฃูุดุทุฉ</button>
                        </div>
                        
                        <div class="knowledge-card">
                            <div class="card-icon">๐บ๏ธ</div>
                            <h3>ุงูููุงุทู ุงูุตูุงุนูุฉ</h3>
                            <p>ุฎุฑุงุฆุท ุชูุงุนููุฉ ูุชูุงุตูู ุงูููุงุทู ุงูุตูุงุนูุฉ ูู ุฌููุน ุงููุญุงูุธุงุช</p>
                            <div class="card-stats">
                                <span>๐ 27 ูุญุงูุธุฉ</span>
                                <span>๐ข 500+ ููุทูุฉ</span>
                            </div>
                            <button class="card-btn" data-source="industrial">ุงุณุชูุดุงู ุงูููุงุทู</button>
                        </div>
                        
                        <div class="knowledge-card">
                            <div class="card-icon">๐</div>
                            <h3>ูุฑุงุฑ ุฑูู 104</h3>
                            <p>ุงููุตูุต ุงููุงููุฉ ูุงูุชูุณูุฑุงุช ูุงููุฑุงุฌุนุงุช ูููุฑุงุฑุงุช ุงูุชูุธูููุฉ</p>
                            <div class="card-stats">
                                <span>โ๏ธ 50+ ูุงุฏุฉ</span>
                                <span>๐ ูุฑุงุฌุน ูุชุดุงุจูุฉ</span>
                            </div>
                            <button class="card-btn" data-source="decision104">ุงุณุชุนุฑุงุถ ุงููุฑุงุฑ</button>
                        </div>
                        
                        <div class="knowledge-card">
                            <div class="card-icon">๐ค</div>
                            <h3>ุงูุฌูุงุช ุงูุญููููุฉ</h3>
                            <p>ุฏููู ุดุงูู ููุฌูุงุช ุงููุนููุฉ ุจุงูุชุฑุงุฎูุต ูุฅุฌุฑุงุกุงุชูุง</p>
                            <div class="card-stats">
                                <span>๐๏ธ 20+ ุฌูุฉ</span>
                                <span>โฑ๏ธ ุฃููุงุช ุงุณุชุฌุงุจุฉ</span>
                            </div>
                            <button class="card-btn" data-source="government">ุนุฑุถ ุงูุฌูุงุช</button>
                        </div>
                    </div>
                    
                    <!-- Quick Search -->
                    <div class="knowledge-search">
                        <input type="text" class="search-input" placeholder="๐ ุงุจุญุซ ูู ูุงุนุฏุฉ ุงููุนุฑูุฉ...">
                        <button class="search-btn">ุจุญุซ</button>
                    </div>
                </div>
            </div>
            
            <!-- Map Tab -->
            <div class="tab-content" id="map-tab">
                <div class="map-container">
                    <h2>๐บ๏ธ ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ ููููุงุทู ุงูุตูุงุนูุฉ</h2>
                    <div class="map-wrapper">
                        <div class="map-placeholder" id="map-placeholder">
                            <div class="placeholder-content">
                                <div class="placeholder-icon">๐บ๏ธ</div>
                                <h3>ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ</h3>
                                <p>ุณูุชู ุชุญููู ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ ููููุงุทู ุงูุตูุงุนูุฉ ููุง</p>
                                <p><small>ููููู ุชุตููุฉ ุงูููุงุทู ุญุณุจ ุงููุดุงุทุ ุงููุณุงุญุฉุ ูุงููุญุงูุธุฉ</small></p>
                                <div class="map-filters">
                                    <select class="filter-select" id="governorate-filter">
                                        <option value="">ุงุฎุชุฑ ุงููุญุงูุธุฉ</option>
                                        <option value="cairo">ุงููุงูุฑุฉ</option>
                                        <option value="alexandria">ุงูุฅุณููุฏุฑูุฉ</option>
                                        <option value="giza">ุงูุฌูุฒุฉ</option>
                                    </select>
                                    <select class="filter-select" id="activity-filter">
                                        <option value="">ุงุฎุชุฑ ุงููุดุงุท</option>
                                        <option value="pharmaceutical">ุตูุงุนุงุช ุฏูุงุฆูุฉ</option>
                                        <option value="electronics">ุฅููุชุฑูููุงุช</option>
                                        <option value="textile">ููุณูุฌุงุช</option>
                                    </select>
                                    <button class="filter-btn">ุชุทุจูู ุงูููุงุชุฑ</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Reports Tab -->
            <div class="tab-content" id="reports-tab">
                <div class="reports-container">
                    <h2>๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช</h2>
                    <div class="reports-grid">
                        <div class="report-card">
                            <h3>๐ ุฅุญุตุงุฆูุงุช ุงูุงุณุชุฎุฏุงู</h3>
                            <div class="report-content">
                                <div class="stat-item">
                                    <span class="stat-label">ุฅุฌูุงูู ุงูุงุณุชูุณุงุฑุงุช:</span>
                                    <span class="stat-value" id="total-queries">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">ูุชูุณุท ููุช ุงูุฅุฌุงุจุฉ:</span>
                                    <span class="stat-value" id="avg-response-time">0 ุซุงููุฉ</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">ูุนุฏู ุงูุฏูุฉ:</span>
                                    <span class="stat-value" id="accuracy-rate">0%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="report-card">
                            <h3>๐ ุชูุฑูุฑ ุงูุฌูุณุฉ</h3>
                            <div class="report-content">
                                <p>ููููู ุฅูุดุงุก ุชูุฑูุฑ ููุตู ุนู ุฌูุณุฉ ุงูุนูู ุงูุญุงููุฉ</p>
                                <button class="generate-report-btn" id="generate-session-report">ุชูููุฏ ุชูุฑูุฑ ุงูุฌูุณุฉ</button>
                                <button class="export-report-btn" id="export-session-report">ุชุตุฏูุฑ ูู PDF</button>
                            </div>
                        </div>
                        
                        <div class="report-card">
                            <h3>๐ง ุงูุชุนูู ุงูุขูู</h3>
                            <div class="report-content">
                                <div class="stat-item">
                                    <span class="stat-label">ุงูุฃููุงุท ุงููุชุนููุฉ:</span>
                                    <span class="stat-value" id="learned-patterns">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">ุชุญุณูู ุงูุฃุฏุงุก:</span>
                                    <span class="stat-value" id="performance-improvement">+0%</span>
                                </div>
                                <button class="view-patterns-btn" id="view-patterns-btn">ุนุฑุถ ุงูุฃููุงุท</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Analysis Tab -->
            <div class="tab-content" id="analysis-tab">
                <div class="analysis-container">
                    <h2>๐ ุงูุชุญููู ุงููุชูุฏู</h2>
                    <div class="analysis-tools">
                        <div class="analysis-tool">
                            <h3>๐งฉ ุชุญููู ุงูุฃุณุฆูุฉ ุงููุฑูุจุฉ</h3>
                            <textarea class="analysis-input" id="complex-analysis-input" placeholder="ุฃุฏุฎู ุณุคุงูุงู ูุฑูุจุงู ููุชุญููู..."></textarea>
                            <button class="analyze-btn" id="analyze-complex-btn">ุชุญููู ุงูุณุคุงู</button>
                            <div class="analysis-result" id="complex-analysis-result"></div>
                        </div>
                        
                        <div class="analysis-tool">
                            <h3>๐ ูุญุฑู ุงููุฑุงุฌุนุฉ ุงููุชุจุงุฏูุฉ</h3>
                            <p>ุชุญูู ูู ุชูุงุณู ุงููุนูููุงุช ุจูู ุงูููุงุนุฏ ุงููุฎุชููุฉ</p>
                            <button class="analyze-btn" id="cross-reference-btn">ุชุดุบูู ุงููุฑุงุฌุนุฉ</button>
                            <div class="analysis-result" id="cross-reference-result"></div>
                        </div>
                        
                        <div class="analysis-tool">
                            <h3>๐ฏ ูุณุชุดุงุฑ ุงูุชูุงุตูู ุงููููุฉ</h3>
                            <input type="text" class="analysis-input" id="technical-query-input" placeholder="ุฃุฏุฎู ุงุณุชูุณุงุฑุงู ูููุงู ุฏูููุงู...">
                            <button class="analyze-btn" id="technical-query-btn">ุงุณุชุดุงุฑุฉ ูููุฉ</button>
                            <div class="analysis-result" id="technical-query-result"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Settings Panel (Hidden by Default) -->
        <div class="settings-panel" id="settings-panel">
            <div class="settings-header">
                <h3>โ๏ธ ุฅุนุฏุงุฏุงุช ุงููุธุงู</h3>
                <button class="close-settings" id="close-settings">โ</button>
            </div>
            
            <div class="settings-content">
                <div class="settings-section">
                    <h4>๐ค ุฅุนุฏุงุฏุงุช ุงูุตูุช</h4>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enable-voice" checked>
                            ุชูุนูู ุงูุชุนุฑู ุงูุตูุชู
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enable-tts" checked>
                            ุชูุนูู ุงูุตูุช ููุฅุฌุงุจุงุช
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>ุณุฑุนุฉ ุงูุตูุช:
                            <input type="range" id="tts-speed" min="0.5" max="2" step="0.1" value="1">
                            <span id="speed-value">1.0x</span>
                        </label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>๐ง ุฅุนุฏุงุฏุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู</h4>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enable-learning" checked>
                            ุชูุนูู ุงูุชุนูู ุงูุขูู
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enable-memory" checked>
                            ุญูุธ ุฐุงูุฑุฉ ุงูุจุงุญุซ
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>ูุณุชูู ุงูุชูุตูู:
                            <select id="detail-level">
                                <option value="basic">ุฃุณุงุณู</option>
                                <option value="standard" selected>ููุงุณู</option>
                                <option value="detailed">ููุตู</option>
                                <option value="expert">ุฎุจูุฑ</option>
                            </select>
                        </label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>๐พ ุฅุนุฏุงุฏุงุช ุงูุจูุงูุงุช</h4>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enable-cache" checked>
                            ุชูุนูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="auto-save" checked>
                            ุงูุญูุธ ุงูุชููุงุฆู
                        </label>
                    </div>
                    <button class="settings-btn" id="clear-cache-btn">ูุณุญ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ</button>
                    <button class="settings-btn" id="export-data-btn">ุชุตุฏูุฑ ุฌููุน ุงูุจูุงูุงุช</button>
                </div>
                
                <div class="settings-section">
                    <h4>๐ค ุจูุงูุงุช ุงูุจุงุญุซ</h4>
                    <div class="setting-item">
                        <label>ุงุณู ุงูุจุงุญุซ:
                            <input type="text" id="researcher-name-input" placeholder="ุฃุฏุฎู ุงุณูู">
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>ูุณุชูู ุงูุฎุจุฑุฉ:
                            <select id="expertise-level">
                                <option value="beginner">ูุจุชุฏุฆ</option>
                                <option value="intermediate" selected>ูุชูุณุท</option>
                                <option value="advanced">ูุชูุฏู</option>
                                <option value="expert">ุฎุจูุฑ</option>
                            </select>
                        </label>
                    </div>
                    <button class="settings-btn" id="save-profile-btn">ุญูุธ ุงูููู ุงูุดุฎุตู</button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-info">
                    <span>ูุณุงุนุฏ ุงููุฌุงู ุงูุฐูู v1.0.0</span>
                    <span class="separator">โข</span>
                    <span id="database-status">๐ข ุฌููุน ุงูููุงุนุฏ ูุดุทุฉ</span>
                    <span class="separator">โข</span>
                    <span id="memory-usage">ุฐุงูุฑุฉ: 0/1000</span>
                </div>
                <div class="footer-links">
                    <button class="footer-link" id="help-btn">ูุณุงุนุฏุฉ</button>
                    <button class="footer-link" id="about-btn">ุญูู ุงููุดุฑูุน</button>
                    <button class="footer-link" id="debug-btn">ูุถุน ุงูุชุตุญูุญ</button>
                </div>
            </div>
        </footer>

        <!-- Voice Activity Indicator -->
        <div class="voice-activity-indicator" id="voice-activity">
            <div class="voice-animation">
                <div class="voice-bar"></div>
                <div class="voice-bar"></div>
                <div class="voice-bar"></div>
                <div class="voice-bar"></div>
                <div class="voice-bar"></div>
            </div>
            <div class="voice-text">๐ค ุฃุณุชูุน ุฅููู...</div>
        </div>

        <!-- Audio Player for TTS -->
        <audio id="tts-player" hidden></audio>
    </div>

    <!-- JavaScript Files -->
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hnswlib-js/0.2.1/hnswlib.js"></script>
    
    <!-- App Core -->
    <script src="js/app.js" type="module"></script>
    
    <!-- Core Modules -->
    <script src="js/core/DatabaseManager.js" type="module"></script>
    <script src="js/core/VectorEngine.js" type="module"></script>
    <script src="js/core/TextSearchEngine.js" type="module"></script>
    <script src="js/core/HybridSearchEngine.js" type="module"></script>
    <script src="js/core/CacheManager.js" type="module"></script>
    
    <!-- NLP Modules -->
    <script src="js/nlp/ArabicNormalizer.js" type="module"></script>
    <script src="js/nlp/IntentClassifier.js" type="module"></script>
    <script src="js/nlp/EntityExtractor.js" type="module"></script>
    <script src="js/nlp/ContextManager.js" type="module"></script>
    <script src="js/nlp/QuestionAnalyzer.js" type="module"></script>
    <script src="js/nlp/DialectHandler.js" type="module"></script>
    
    <!-- Intelligence Modules -->
    <script src="js/intelligence/ReasoningEngine.js" type="module"></script>
    <script src="js/intelligence/LearningEngine.js" type="module"></script>
    <script src="js/intelligence/ThresholdOptimizer.js" type="module"></script>
    <script src="js/intelligence/AnswerGenerator.js" type="module"></script>
    <script src="js/intelligence/ConfidenceScorer.js" type="module"></script>
    
    <!-- UI Modules -->
    <script src="js/ui/ChatInterface.js" type="module"></script>
    <script src="js/ui/ThinkingIndicator.js" type="module"></script>
    <script src="js/ui/ResultsRenderer.js" type="module"></script>
    <script src="js/ui/StatisticsView.js" type="module"></script>
    <script src="js/ui/SettingsPanel.js" type="module"></script>
    
    <!-- Voice Modules -->
    <script src="js/voice/SpeechRecognizer.js" type="module"></script>
    <script src="js/voice/SpeechSynthesizer.js" type="module"></script>
    <script src="js/voice/VADDetector.js" type="module"></script>
    <script src="js/voice/AudioController.js" type="module"></script>
    
    <!-- Data Modules -->
    <script src="js/data/DataLoader.js" type="module"></script>
    <script src="js/data/IndexBuilder.js" type="module"></script>
    <script src="js/data/VectorIndexer.js" type="module"></script>
    <script src="js/data/DataValidator.js" type="module"></script>
    
    <!-- Utils -->
    <script src="js/utils/MathUtils.js" type="module"></script>
    <script src="js/utils/StringUtils.js" type="module"></script>
    <script src="js/utils/DateUtils.js" type="module"></script>
    <script src="js/utils/Logger.js" type="module"></script>
    <script src="js/utils/PerformanceMonitor.js" type="module"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered:', registration);
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }
        
        // PWA Install Prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Show install button or banner
            setTimeout(() => {
                if (deferredPrompt) {
                    const installBtn = document.createElement('button');
                    installBtn.className = 'install-btn';
                    installBtn.innerHTML = '๐ฑ ุชุซุจูุช ุงูุชุทุจูู';
                    installBtn.onclick = () => {
                        deferredPrompt.prompt();
                        deferredPrompt.userChoice.then((choiceResult) => {
                            if (choiceResult.outcome === 'accepted') {
                                console.log('User accepted install');
                            }
                            deferredPrompt = null;
                        });
                    };
                    document.querySelector('.footer-links').prepend(installBtn);
                }
            }, 5000);
        });
    </script>
</body>

</html>
